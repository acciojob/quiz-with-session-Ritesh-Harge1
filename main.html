<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Quiz</title>
</head>
<body>
  <h1>Quiz</h1>

  <div id="questions"></div>

  <button id="submit">Submit</button>

  <div id="score"></div>

  <script>
    const questions = [
      {
        q: "What is the capital of France?",
        options: ["Paris", "London", "Berlin", "Rome"],
        answer: 0
      },
      {
        q: "Which planet is known as the Red Planet?",
        options: ["Earth", "Mars", "Jupiter", "Venus"],
        answer: 1
      },
      {
        q: "Which language runs in a browser?",
        options: ["Python", "C", "JavaScript", "Java"],
        answer: 2
      },
      {
        q: "What does CSS stand for?",
        options: ["Central Style Sheets", "Cascading Style Sheets", "Cascading Simple Sheets", "Computer Style Sheets"],
        answer: 1
      },
      {
        q: "Which company developed the iPhone?",
        options: ["Google", "Samsung", "Apple", "Microsoft"],
        answer: 2
      }
    ];

    const questionsContainer = document.getElementById('questions');
    const submitBtn = document.getElementById('submit');
    const scoreDiv = document.getElementById('score');

    // Load previous progress from sessionStorage
    let progress = JSON.parse(sessionStorage.getItem('progress')) || {};

    // Function to render questions
    function renderQuestions() {
      questionsContainer.innerHTML = '';
      questions.forEach((q, index) => {
        const div = document.createElement('div');
        div.innerHTML = `<p>${index + 1}. ${q.q}</p>`;
        q.options.forEach((opt, i) => {
          const id = `q${index}_opt${i}`;
          const checked = progress[index] == i ? 'checked' : '';
          div.innerHTML += `
            <label>
              <input type="radio" name="q${index}" value="${i}" ${checked}>
              ${opt}
            </label><br>
          `;
        });
        questionsContainer.appendChild(div);
      });
    }

    renderQuestions();

    // Update sessionStorage when an answer is selected
    questionsContainer.addEventListener('change', (e) => {
      if (e.target.matches('input[type="radio"]')) {
        const qIndex = e.target.name.replace('q','');
        progress[qIndex] = parseInt(e.target.value);
        sessionStorage.setItem('progress', JSON.stringify(progress));
      }
    });

    // Submit quiz
    submitBtn.addEventListener('click', () => {
      let score = 0;
      questions.forEach((q, index) => {
        if (progress[index] === q.answer) {
          score++;
        }
      });
      scoreDiv.textContent = `Your score is ${score} out of ${questions.length}.`;
      localStorage.setItem('score', score);
    });

    // Restore score if it exists in localStorage
    const savedScore = localStorage.getItem('score');
    if (savedScore !== null) {
      scoreDiv.textContent = `Your score is ${savedScore} out of ${questions.length}.`;
    }
  </script>
</body>
</html>

